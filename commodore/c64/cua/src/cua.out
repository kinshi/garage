00001  0000              ;================================
00002  0000              ;COMMIE UFO ATTACK V1.0
00003  0000              ;(C) 1986 STEVE GOLDSMITH
00004  0000              ;ALL RIGHTS RESERVED
00005  0000              ;
00006  0000              ;USE COMMODORE'S MACRO ASSEMBLER
00007  0000              ;ASSEMBLE
00008  0000              ;================================
00009  0000              ;
00010  0000              *=$8000
00011  8000              SETLFS = $FFBA         ;SET LOGICAL FILE #, DEVICE, COMMAND
00012  8000              SETNAM = $FFBD         ;SET FILE NAME
00013  8000              LOAD   = $FFD5         ;LOAD RAM FROM DEVICE
00014  8000              PRINT  = $FFD2         ;KERNAL CHAR PRINT ROUTINE
00015  8000              PLOT   = $FFF0         ;SET CURSOR LOCATION
00016  8000              GETIN  = $FFE4         ;GET CHAR FROM KEYBOARD
00017  8000              CCOLOR = $0286         ;CURSOR COLOR
00018  8000              VICII  = $D000         ;VIDEO CHIP
00019  8000              CIA1   = $DC00         ;COMPLEX INTERFACE ADAPTER #1
00020  8000              CIA2   = $DD00         ;COMPLEX INTERFACE ADAPTER #2
00021  8000              KSCRN  = $288          ;KERNAL START OF SCREEN
00022  8000              IRQVEC = $0314         ;IRQ HARDWARE VECTOR
00023  8000              NRMIRQ =$EA31          ;NORMAL IRQ VECTOR
00024  8000              SCREEN = $C800         ;START OF SCREEN MEMORY
00025  8000              COLMEM = $D800         ;CHARACTER COLOR MEM
00026  8000              SPRPTR = SCREEN+$3F8   ;SPRITE POINTERS
00027  8000              SID    = $D400         ;START OF SOUND CHIP
00028  8000              INDEX  = $FB           ;ZERO PAGE INDEXER
00029  8000              ;
00030  8000              ;INITILIZE PROGRAM
00031  8000              ;
00032  8000  20 4E 80    JSR    LOADCS          ;LOAD CHARS AND SPRITES
00033  8003  20 66 80    JSR    SETBNK          ;SET GRAPHICS BANK
00034  8006  20 9A 87    JSR    TITLE           ;DISPLAY TITLE SCREEN
00035  8009  20 81 80    JSR    SETIRQ          ;CRANK UP NEW IRQ
00036  800C  20 C8 80    REPLAY JSR INITSP      ;INIT PLAYFIELD
00037  800F              ;
00038  800F              ;MAIN LOOP
00039  800F              ;
00040  800F  CE 2C 88    MAIN   DEC MLOOP       ;MISSLE MOVES TWICE AS FAST
00041  8012  D0 25       BNE    LOOP89
00042  8014  A9 02       LDA    #$02
00043  8016  8D 2C 88    STA    MLOOP
00044  8019  AD 1E D0    LDA    VICII+$1E       ;GET COLLISION REG
00045  801C  8D 2B 88    STA    COLREG          ;SAVE COLLISION REG
00046  801F  20 36 81    JSR    TANK            ;MOVE TANK AND FIRE MISSLE
00047  8022  AD 2F 88    LDA    NUMTNK          ;GET NUMBER OF TANKS
00048  8025  D0 03       BNE    LOOP78          ;ANY TANKS LEFT?
00049  8027  4C 00 87    JMP    ENDGAM          ;END GAME
00050  802A  20 7F 82    LOOP78 JSR UFO1        ;MOVE UFO1 AND DROP BOMBS
00051  802D  20 45 83    JSR    UFO2            ;MOVE UFO2 AND DROP BOMBS
00052  8030  20 73 86    JSR    SCROLL          ;SCROLL BOTTOM LINE ON SCREEN
00053  8033  AD 1E D0    LDA    VICII+$1E       ;GET COLLISION REG
00054  8036  8D 2B 88    STA    COLREG          ;SAVE COLLISION REG
00055  8039  20 34 82    LOOP89 JSR MISSLE      ;MOVE MISSLE
00056  803C  38          SEC                    ;TIME DELAY
00057  803D  A9 0A       LDA    #$0A
00058  803F  ED 30 88    SBC    LEVEL           ;HIGHER LEVEL = FASTER DELAY
00059  8042  A8          TAY
00060  8043  A2 40       LOOP79 LDX #$40        ;SECONDARY DELAY
00061  8045  CA          LOOP80 DEX
00062  8046  D0 FD       BNE    LOOP80
00063  8048  88          DEY
00064  8049  D0 F8       BNE    LOOP79
00065  804B  4C 0F 80    JMP    MAIN
00066  804E              ;
00067  804E              ;LOAD CHARACTER AND SPRITE DATA
00068  804E              ;
00069  804E  A9 01       LOADCS LDA #$01        ;FILE #
00070  8050  A2 08       LDX    #$08            ;DEVICE #
00071  8052  A0 01       LDY    #$01            ;COMMAND
00072  8054  20 BA FF    JSR    SETLFS          ;SET UP FILE
00073  8057  A9 0A       LDA    #$0A            ;# OF CHARS IN NAME
00074  8059  A2 73       LDX    #<NAME          ;GET ADDR OF FILE NAME
00075  805B  A0 88       LDY    #>NAME
00076  805D  20 BD FF    JSR    SETNAM          ;SET UP NAME
00077  8060  A9 00       LDA    #$00            ;SET FOR LOAD
00078  8062  20 D5 FF    JSR    LOAD            ;LOAD FILE
00079  8065  60          RTS
00080  8066              ;
00081  8066              ;SET BANK + GRAPHICS MODE
00082  8066              ;
00083  8066  AD 02 DD    SETBNK LDA CIA2+2
00084  8069  09 03       ORA    #$03            ;SET BITS 0 & 1 TO OUTPUTS
00085  806B  8D 02 DD    STA    CIA2+2
00086  806E  AD 00 DD    LDA    CIA2
00087  8071  29 FC       AND    #$FC            ;SELECT BANK 3 FOR GRAPHICS
00088  8073  8D 00 DD    STA    CIA2
00089  8076  A9 20       LDA    #$20
00090  8078  8D 18 D0    STA    VICII+$18       ;CHARACTERS @ $C000 AND SCREEN @ $C800
00091  807B  A9 C8       LDA    #$C8
00092  807D  8D 88 02    STA    KSCRN           ;TELL KERNAL WHERE SCREEN IS
00093  8080  60          RTS
00094  8081              ;
00095  8081              ;SET IRQ TO NEW LOCATION
00096  8081              ;
00097  8081  78          SETIRQ SEI
00098  8082  A9 8E       LDA    #<NEWIRQ
00099  8084  8D 14 03    STA    IRQVEC
00100  8087  A9 80       LDA    #>NEWIRQ
00101  8089  8D 15 03    STA    IRQVEC+1
00102  808C  58          CLI
00103  808D  60          RTS
00104  808E              ;
00105  808E              ;NEW IRQ ROUTINE
00106  808E              ;
00107  808E  AE 26 88    NEWIRQ LDX RTSCN
00108  8091  BD 27 88    LDA    RTNUM,X         ;GET ROUTINE #
00109  8094  F0 21       BEQ    LOOP4           ;SKIP TO NEXT READ POSITION
00110  8096  C9 01       CMP    #$01
00111  8098  D0 06       BNE    LOOP1
00112  809A  20 97 85    JSR    RT1
00113  809D  4C B7 80    JMP    LOOP4
00114  80A0  C9 02       LOOP1  CMP #$02
00115  80A2  D0 06       BNE    LOOP2
00116  80A4  20 F9 85    JSR    RT2
00117  80A7  4C B7 80    JMP    LOOP4
00118  80AA  C9 03       LOOP2  CMP #$03
00119  80AC  D0 06       BNE    LOOP3
00120  80AE  20 1E 86    JSR    RT3
00121  80B1  4C B7 80    JMP    LOOP4
00122  80B4  20 C7 80    LOOP3  JSR RT4
00123  80B7  AE 26 88    LOOP4  LDX RTSCN
00124  80BA  E8          INX
00125  80BB  E0 04       CPX    #$04            ;SCAN FOR 4 ROUTINES
00126  80BD  D0 02       BNE    LOOP5
00127  80BF  A2 00       LDX    #$00
00128  80C1  8E 26 88    LOOP5  STX RTSCN
00129  80C4  4C 31 EA    JMP    NRMIRQ
00130  80C7  60          RT4    RTS             ;ROUTINE 4 NOT USED
00131  80C8              ;
00132  80C8              ;INITILIZE SPRITES, PLAY FIELD, SCORE, # OF TANKS, AND LEVEL
00133  80C8              ;
00134  80C8  A2 00       INITSP LDX #$00        ;CLEAR SID CHIP
00135  80CA  8A          TXA
00136  80CB  9D 00 D4    LOOP76 STA SID,X
00137  80CE  E8          INX
00138  80CF  E0 18       CPX    #$18
00139  80D1  D0 F8       BNE    LOOP76
00140  80D3  A9 00       LDA    #$00            ;ZERO SCORE
00141  80D5  8D 40 88    STA    SC
00142  80D8  8D 41 88    STA    SC+1
00143  80DB  8D 42 88    STA    SC+2
00144  80DE  A9 02       LDA    #$02
00145  80E0  8D 2C 88    STA    MLOOP           ;# OF TIMES MISSLE MOVES VS TANK AND UFOS
00146  80E3  A9 03       LDA    #$03
00147  80E5  8D 2F 88    STA    NUMTNK          ; # OF TANKS
00148  80E8  A9 01       LDA    #$01
00149  80EA  8D 30 88    STA    LEVEL           ;SET LEVEL TO 1
00150  80ED  A2 00       LDX    #$00            ;SET SPRITE 0-6 POINTER AND COLOR
00151  80EF  BD 9F 88    LOOP8  LDA SPRTBL,X
00152  80F2  9D F8 CB    STA    SPRPTR,X        ;SET SPRITE POINTER
00153  80F5  BD A7 88    LDA    SPCOLR,X
00154  80F8  9D 27 D0    STA    VICII+$27,X     ;SET SPRITE COLOR
00155  80FB  E8          INX
00156  80FC  E0 08       CPX    #$08
00157  80FE  D0 EF       BNE    LOOP8
00158  8100  A2 AB       LDX    #$AB            ;PUT TANK ON SCREEN
00159  8102  A0 DD       LDY    #$DD
00160  8104  8E 00 D0    STX    VICII           ;SET X POS
00161  8107  8C 01 D0    STY    VICII+1         ;SET Y POS
00162  810A  A9 01       LDA    #%00000001
00163  810C  8D 15 D0    STA    VICII+$15       ;TURN TANK ON
00164  810F  A2 00       LDX    #$00
00165  8111  BD 7D 88    LOOP6  LDA SDATA,X     ;CLEAR SCREEN AND PRINT TOP LINE
00166  8114  20 D2 FF    JSR    PRINT           ;PRINT CHARS
00167  8117  E8          INX
00168  8118  E0 22       CPX    #$22
00169  811A  D0 F5       BNE    LOOP6
00170  811C  A2 00       LDX    #$00            ;SET COLOR FOR BOTTOM LINE ON SCREEN
00171  811E  A9 03       LDA    #$03            ;CYAN
00172  8120  9D C0 DB    LOOP77 STA COLMEM+$03C0,X
00173  8123  E8          INX
00174  8124  E0 28       CPX    #$28
00175  8126  D0 F8       BNE    LOOP77
00176  8128  A9 47       LDA    #$47            ;SET UP BOTTOM LINE FOR SCROLL
00177  812A  8D E7 CB    STA    SCREEN+$03E7
00178  812D  AD 1E D0    LDA    VICII+$1E       ;CLEAR COLLISION REG
00179  8130  A9 0F       LDA    #$0F
00180  8132  8D 18 D4    STA    SID+$18         ;TURN VOLUME ON
00181  8135  60          RTS
00182  8136              ;
00183  8136              ;READ COLLISION REG, JOYSTICK, AND MOVE TANK OR FIRE MISSLE
00184  8136              ;
00185  8136  AD 2D 88    TANK   LDA TNKEXP      ;SEE IF TANK EXPLODING
00186  8139  F0 01       BEQ    LOOP67
00187  813B  60          RTS
00188  813C  AD 2B 88    LOOP67 LDA COLREG      ;SEE IF TANK HIT
00189  813F  29 01       AND    #%00000001      ;SEE IF TANK HIT
00190  8141  F0 37       BEQ    LOOP66
00191  8143  CE 2F 88    DEC    NUMTNK          ;DECREASE # OF TANKS
00192  8146  A9 0F       LDA    #$0F
00193  8148  8D 53 88    STA    TIMER3 9/15 TH SECOND
00194  814B  A9 09       LDA    #$09
00195  814D  8D 05 D4    STA    SID+$05         ;SET ATTACK/DECAY
00196  8150  A9 70       LDA    #$70
00197  8152  8D 06 D4    STA    SID+$06         ;SET SUSTAIN/RELEASE
00198  8155  A9 80       LDA    #$80
00199  8157  8D 00 D4    STA    SID             ;LO FREQ
00200  815A  A9 01       LDA    #$01
00201  815C  8D 01 D4    STA    SID+1           ;HI FREQ
00202  815F  8D 3F 88    STA    TNKSND
00203  8162  A9 81       LDA    #%10000001
00204  8164  8D 04 D4    STA    SID+$04         ;SET RANDOM NOISE + GATE BIT
00205  8167  A9 03       LDA    #$03
00206  8169  8D 2D 88    STA    TNKEXP          ;SKIP JOYSTICK INPUT
00207  816C  8D 29 88    STA    RTNUM+2         ;START IRQ PROCESSING
00208  816F  A9 01       LDA    #$01
00209  8171  8D 17 D0    STA    VICII+$17       ;EXPAND Y
00210  8174  A9 D5       LDA    #$D5
00211  8176  8D 01 D0    STA    VICII+1         ;EXPLOSION Y
00212  8179  60          RTS
00213  817A  AD 00 DC    LOOP66 LDA CIA1
00214  817D  29 1F       AND    #%00011111      ;GET DIRECTIONS
00215  817F  C9 0F       CMP    #%00001111      ;CHECK FOR FIRE
00216  8181  F0 5D       BEQ    FIRE            ;FIRE MISSLE
00217  8183  C9 1B       CMP    #%00011011      ;CHECK FOR LEFT
00218  8185  F0 19       BEQ    LEFT
00219  8187  C9 17       CMP    #%00010111      ;CHECK FOR RIGHT
00220  8189  F0 34       BEQ    RIGHT
00221  818B  C9 0B       CMP    #%00001011      ;CHECK FOR LEFT + FIRE
00222  818D  D0 06       BNE    LOOP20
00223  818F  20 E0 81    JSR    FIRE
00224  8192  4C A0 81    JMP    LEFT
00225  8195  C9 07       LOOP20 CMP #%00000111  ;CHECK FOR RIGHT + FIRE
00226  8197  D0 06       BNE    LOOP56
00227  8199  20 E0 81    JSR    FIRE
00228  819C  4C BF 81    JMP    RIGHT
00229  819F  60          LOOP56 RTS
00230  81A0  AD 10 D0    LEFT   LDA VICII+$10   ;MOVE TANK LEFT
00231  81A3  29 01       AND    #%00000001      ;SEE IF MSB OF X IS SET
00232  81A5  F0 0D       BEQ    LOOP9
00233  81A7  AD 00 D0    LDA    VICII           ;SEE IF TANK IS @ $100
00234  81AA  D0 0F       BNE    LOOP11
00235  81AC  AD 10 D0    LDA    VICII+$10
00236  81AF  29 FE       AND    #%11111110      ;TANK REACHED $FF
00237  81B1  8D 10 D0    STA    VICII+$10
00238  81B4  AD 00 D0    LOOP9  LDA VICII
00239  81B7  C9 18       CMP    #$18            ;LEFT EDGE OF SCREEN
00240  81B9  F0 03       BEQ    LOOP10
00241  81BB  CE 00 D0    LOOP11 DEC VICII       ;MOVE TANK 1 LEFT
00242  81BE  60          LOOP10 RTS
00243  81BF  AD 10 D0    RIGHT  LDA VICII+$10   ;MOVE TANK RIGHT
00244  81C2  29 01       AND    #%00000001      ;SEE IF MSB OF X IS SET
00245  81C4  D0 0F       BNE    LOOP12
00246  81C6  AD 00 D0    LDA    VICII           ;SEE IF TANK IS @ $FF
00247  81C9  C9 FF       CMP    #$FF
00248  81CB  D0 0F       BNE    LOOP13
00249  81CD  AD 10 D0    LDA    VICII+$10
00250  81D0  09 01       ORA    #%00000001      ;TANK REACHED $100
00251  81D2  8D 10 D0    STA    VICII+$10
00252  81D5  AD 00 D0    LOOP12 LDA VICII
00253  81D8  C9 40       CMP    #$40            ;RIGHT EDGE OF SCREEN
00254  81DA  F0 03       BEQ    LOOP14
00255  81DC  EE 00 D0    LOOP13 INC VICII       ;MOVE TANK 1 RIGHT
00256  81DF  60          LOOP14 RTS
00257  81E0  AD 2E 88    FIRE   LDA FIRTGL      ;SEE IF MISSLE ALL READY SHOT
00258  81E3  F0 01       BEQ    LOOP15          ;SHOOT MISSLE
00259  81E5  60          RTS
00260  81E6  A9 01       LOOP15 LDA #$01
00261  81E8  8D 2E 88    STA    FIRTGL
00262  81EB  AD 10 D0    LDA    VICII+$10
00263  81EE  29 01       AND    #%00000001      ;SEE IF MSB OF TANK X POS SET
00264  81F0  D0 08       BNE    LOOP18          ;MSB OF TANK X SET
00265  81F2  AD 10 D0    LDA    VICII+$10
00266  81F5  29 FD       AND    #%11111101      ;MSB OF TANK X NOT SET
00267  81F7  4C FF 81    JMP    LOOP19
00268  81FA  AD 10 D0    LOOP18 LDA VICII+$10
00269  81FD  09 02       ORA    #%00000010
00270  81FF  8D 10 D0    LOOP19 STA VICII+$10
00271  8202  AD 00 D0    LDA    VICII           ;GET TANKS X POS
00272  8205  8D 02 D0    STA    VICII+2         ;MISSLE X
00273  8208  A9 D9       LDA    #$D9
00274  820A  8D 03 D0    STA    VICII+3         ;MISSLE Y
00275  820D  AD 15 D0    LDA    VICII+$15
00276  8210  09 02       ORA    #%00000010      ;TURN MISSLE ON
00277  8212  8D 15 D0    STA    VICII+$15
00278  8215  A9 11       LDA    #$11            ;SET ATTACK/DECAY V1
00279  8217  8D 05 D4    STA    SID+$05
00280  821A  A9 F6       LDA    #$F6            ;SET SUSTAIN/RELEASE V1
00281  821C  8D 06 D4    STA    SID+$06
00282  821F  A9 80       LDA    #$80            ;STORE MISSLE FREQ.
00283  8221  8D 00 D4    STA    SID
00284  8224  A9 03       LDA    #$03
00285  8226  8D 01 D4    STA    SID+1
00286  8229  A9 81       LDA    #%10000001      ;SET RANDOM NOISE + GATE BIT
00287  822B  8D 04 D4    STA    SID+$04
00288  822E  A9 80       LDA    #%10000000
00289  8230  8D 04 D4    STA    SID+$04         ;START RELEASE CYCLE
00290  8233  60          RTS
00291  8234              ;
00292  8234              ;MISSLE MOVEMENT
00293  8234              ;
00294  8234  AD 2E 88    MISSLE LDA FIRTGL      ;SEE IF MISSLE IS IN FLIGHT
00295  8237  D0 01       BNE    LOOP16
00296  8239  60          RTS
00297  823A  AD 03 D0    LOOP16 LDA VICII+3     ;GET MISSLE Y POS
00298  823D  C9 32       CMP    #$32            ;SEE IF @ TOP OF SCREEN
00299  823F  F0 04       BEQ    LOOP17
00300  8241  CE 03 D0    DEC    VICII+3         ;MOVE MISSLE UP 1
00301  8244  60          RTS
00302  8245  AD 15 D0    LOOP17 LDA VICII+$15
00303  8248  29 FD       AND    #%11111101      ;TURN MISSLE OFF
00304  824A  8D 15 D0    STA    VICII+$15
00305  824D  A9 00       LDA    #$00            ;CAN NOW FIRE ANOTHER MISSLE
00306  824F  8D 2E 88    STA    FIRTGL
00307  8252  8D 2B 88    STA    COLREG          ;CLEAR C-REG SAVE
00308  8255  AD 1E D0    LDA    VICII+$1E       ;CLEAR SS C-REG
00309  8258  60          RTS
00310  8259              ;
00311  8259              ;INIT UFOS
00312  8259              ;
00313  8259  AD 12 D0    INUFOS LDA VICII+$12
00314  825C  29 7F       AND    #%01111111
00315  825E  18          CLC
00316  825F  69 38       ADC    #$38
00317  8261  8D 33 88    STA    YPOS            ;SAVE Y POS
00318  8264  AD 12 D0    LDA    VICII+$12
00319  8267  30 0B       BMI    LOOP21
00320  8269  A9 01       LDA    #$01            ;RIGHT TO LEFT
00321  826B  8D 31 88    STA    UFODIR
00322  826E  A9 57       LDA    #$57
00323  8270  8D 32 88    STA    XPOS
00324  8273  60          RTS
00325  8274  A9 00       LOOP21 LDA #$00        ;LEFT TO RIGHT
00326  8276  8D 31 88    STA    UFODIR
00327  8279  A9 01       LDA    #$01
00328  827B  8D 32 88    STA    XPOS
00329  827E  60          RTS
00330  827F              ;
00331  827F              ;MOVE UFO 1
00332  827F              ;
00333  827F  AD 34 88    UFO1   LDA INITU1      ;SEE IF INIT YET
00334  8282  D0 31       BNE    LOOP22
00335  8284  A9 01       LDA    #$01
00336  8286  8D 34 88    STA    INITU1
00337  8289  20 59 82    JSR    INUFOS          ;GET X,Y, AND DIRECTION
00338  828C  AD 10 D0    LDA    VICII+$10       ;GET MSB OF UFO
00339  828F  AE 31 88    LDX    UFODIR
00340  8292  8E 35 88    STX    U1DIR           ;SAVE DIRECTION
00341  8295  D0 05       BNE    LOOP23          ;SET MSB OF UFO
00342  8297  29 FB       AND    #%11111011      ;LEFT TO RIGHT
00343  8299  4C 9E 82    JMP    LOOP24
00344  829C  09 04       LOOP23 ORA #%00000100  ;RIGHT TO LEFT
00345  829E  8D 10 D0    LOOP24 STA VICII+$10
00346  82A1  AD 32 88    LDA    XPOS            ;SET X AND Y POS
00347  82A4  8D 04 D0    STA    VICII+4
00348  82A7  AD 33 88    LDA    YPOS
00349  82AA  8D 05 D0    STA    VICII+5
00350  82AD  AD 15 D0    LDA    VICII+$15
00351  82B0  09 04       ORA    #%00000100      ;TURN UFO ON
00352  82B2  8D 15 D0    STA    VICII+$15
00353  82B5  AD 36 88    LOOP22 LDA BD1         ;SEE IF BOMB HAS BEEN DROPED
00354  82B8  D0 0C       BNE    LOOP45
00355  82BA  AD 12 D0    LDA    VICII+$12       ;DROP BOMB?
00356  82BD  C9 01       CMP    #$01
00357  82BF  D0 08       BNE    LOOP46
00358  82C1  A9 01       LDA    #$01
00359  82C3  8D 36 88    STA    BD1
00360  82C6  20 1C 84    LOOP45 JSR BOMB1
00361  82C9  AD 2B 88    LOOP46 LDA COLREG      ;GET COLLISION REG
00362  82CC  29 06       AND    #%00000110
00363  82CE  C9 06       CMP    #%00000110      ;SEE IF MISSLE HIT UFO
00364  82D0  D0 20       BNE    LOOP60          ;NO
00365  82D2  20 45 82    JSR    LOOP17          ;KILL MISSLE
00366  82D5  20 37 83    JSR    LOOP28          ;KILL UFO
00367  82D8  A2 00       LDX    #$00
00368  82DA  AC 30 88    LDY    LEVEL           ;SCORE = LEVEL*100
00369  82DD  20 9E 86    JSR    SCORE           ;SCORE POINTS
00370  82E0  AE 04 D0    LDX    VICII+4         ;UFO X LSB
00371  82E3  AC 05 D0    LDY    VICII+5         ;UFO Y
00372  82E6  AD 10 D0    LDA    VICII+$10       ;UFO X MSB
00373  82E9  29 04       AND    #%00000100
00374  82EB  18          CLC
00375  82EC  F0 01       BEQ    LOOP61
00376  82EE  38          SEC
00377  82EF  4C B3 85    LOOP61 JMP EXP2        ;INIT EXPLOSION
00378  82F2  AD 35 88    LOOP60 LDA U1DIR       ;GET UFO DIRECTION
00379  82F5  F0 1F       BEQ    LOOP25
00380  82F7  AD 10 D0    LDA    VICII+$10       ;MOVE RIGHT TO LEFT
00381  82FA  29 04       AND    #%00000100      ;SEE IF MSB OF X SET
00382  82FC  F0 0D       BEQ    LOOP26
00383  82FE  AD 04 D0    LDA    VICII+4         ;SEE IF UFO IS @ $100
00384  8301  D0 0F       BNE    LOOP27
00385  8303  AD 10 D0    LDA    VICII+$10
00386  8306  29 FB       AND    #%11111011      ;UFO REACHED $FF
00387  8308  8D 10 D0    STA    VICII+$10
00388  830B  AD 04 D0    LOOP26 LDA VICII+4
00389  830E  C9 01       CMP    #$01            ;LEFT EDGE OF SCREEN
00390  8310  F0 25       BEQ    LOOP28
00391  8312  CE 04 D0    LOOP27 DEC VICII+4
00392  8315  60          RTS
00393  8316  AD 10 D0    LOOP25 LDA VICII+$10   ;MOVE LEFT TO RIGHT
00394  8319  29 04       AND    #%00000100      ;SEE IF MSB OF X IS SET
00395  831B  D0 0F       BNE    LOOP29
00396  831D  AD 04 D0    LDA    VICII+4         ;SEE IF UFO IS @ $FF
00397  8320  C9 FF       CMP    #$FF
00398  8322  D0 0F       BNE    LOOP30
00399  8324  AD 10 D0    LDA    VICII+$10
00400  8327  09 04       ORA    #%00000100      ;UFO REACHED $100
00401  8329  8D 10 D0    STA    VICII+$10
00402  832C  AD 04 D0    LOOP29 LDA VICII+4
00403  832F  C9 57       CMP    #$57            ;RIGHT EDGE OF SCREEN
00404  8331  F0 04       BEQ    LOOP28
00405  8333  EE 04 D0    LOOP30 INC VICII+4
00406  8336  60          RTS
00407  8337  AD 15 D0    LOOP28 LDA VICII+$15
00408  833A  29 FB       AND    #%11111011      ;TURN UFO OFF
00409  833C  8D 15 D0    STA    VICII+$15
00410  833F  A9 00       LDA    #$00
00411  8341  8D 34 88    STA    INITU1
00412  8344  60          RTS
00413  8345              ;
00414  8345              ;MOVE UFO 2
00415  8345              ;
00416  8345  AD 37 88    UFO2   LDA INITU2      ;SEE IF INIT YET
00417  8348  D0 31       BNE    LOOP31
00418  834A  A9 01       LDA    #$01
00419  834C  8D 37 88    STA    INITU2
00420  834F  20 59 82    JSR    INUFOS          ;GET X,Y, AND DIRECTION
00421  8352  AD 10 D0    LDA    VICII+$10       ;GET MSB OF UFO
00422  8355  AE 31 88    LDX    UFODIR
00423  8358  8E 38 88    STX    U2DIR           ;SAVE DIRECTION
00424  835B  D0 05       BNE    LOOP32          ;SET MSB OF UFO
00425  835D  29 F7       AND    #%11110111      ;LEFT TO RIGHT
00426  835F  4C 64 83    JMP    LOOP33
00427  8362  09 08       LOOP32 ORA #%00001000  ;RIGHT TO LEFT
00428  8364  8D 10 D0    LOOP33 STA VICII+$10
00429  8367  AD 32 88    LDA    XPOS            ;SET X AND Y POS
00430  836A  8D 06 D0    STA    VICII+6
00431  836D  AD 33 88    LDA    YPOS
00432  8370  8D 07 D0    STA    VICII+7
00433  8373  AD 15 D0    LDA    VICII+$15
00434  8376  09 08       ORA    #%00001000      ;TURN UFO ON
00435  8378  8D 15 D0    STA    VICII+$15
00436  837B  AD 07 D0    LOOP31 LDA VICII+7
00437  837E  C9 D0       CMP    #$D0
00438  8380  F0 0A       BEQ    LOOP40
00439  8382  AD 12 D0    LDA    VICII+$12
00440  8385  29 0F       AND    #$0F
00441  8387  D0 03       BNE    LOOP40
00442  8389  EE 07 D0    INC    VICII+7
00443  838C  AD 39 88    LOOP40 LDA BD2         ;SEE IF BOMB HAS BEEN DROPED
00444  838F  D0 0C       BNE    LOOP47
00445  8391  AD 12 D0    LDA    VICII+$12       ;DROP BOMB?
00446  8394  C9 01       CMP    #$01
00447  8396  D0 08       BNE    LOOP48
00448  8398  A9 01       LDA    #$01
00449  839A  8D 39 88    STA    BD2
00450  839D  20 C7 84    LOOP47 JSR BOMB2
00451  83A0  AD 2B 88    LOOP48 LDA COLREG      ;GET COLLISION REG
00452  83A3  29 0A       AND    #%00001010
00453  83A5  C9 0A       CMP    #%00001010      ;SEE IF MISSLE HIT UFO
00454  83A7  D0 20       BNE    LOOP64          ;NO
00455  83A9  20 45 82    JSR    LOOP17          ;KILL MISSLE
00456  83AC  20 0E 84    JSR    LOOP37          ;KILL UFO
00457  83AF  A2 00       LDX    #$00
00458  83B1  AC 30 88    LDY    LEVEL           ;SCORE = LEVEL*100
00459  83B4  20 9E 86    JSR    SCORE           ;SCORE POINTS
00460  83B7  AE 06 D0    LDX    VICII+6         ;UFO X LSB
00461  83BA  AC 07 D0    LDY    VICII+7         ;UFO Y
00462  83BD  AD 10 D0    LDA    VICII+$10       ;UFO X MSB
00463  83C0  29 08       AND    #%00001000
00464  83C2  18          CLC
00465  83C3  F0 01       BEQ    LOOP65
00466  83C5  38          SEC
00467  83C6  4C B3 85    LOOP65 JMP EXP2        ;INIT EXPLOSION
00468  83C9  AD 38 88    LOOP64 LDA U2DIR
00469  83CC  F0 1F       BEQ    LOOP34
00470  83CE  AD 10 D0    LDA    VICII+$10       ;MOVE RIGHT TO LEFT
00471  83D1  29 08       AND    #%00001000      ;SEE IF MSB OF X SET
00472  83D3  F0 0D       BEQ    LOOP35
00473  83D5  AD 06 D0    LDA    VICII+6         ;SEE IF UFO IS @ $100
00474  83D8  D0 0F       BNE    LOOP36
00475  83DA  AD 10 D0    LDA    VICII+$10
00476  83DD  29 F7       AND    #%11110111      ;UFO REACHED $FF
00477  83DF  8D 10 D0    STA    VICII+$10
00478  83E2  AD 06 D0    LOOP35 LDA VICII+6
00479  83E5  C9 01       CMP    #$01            ;LEFT EDGE OF SCREEN
00480  83E7  F0 25       BEQ    LOOP37
00481  83E9  CE 06 D0    LOOP36 DEC VICII+6
00482  83EC  60          RTS
00483  83ED  AD 10 D0    LOOP34 LDA VICII+$10   ;MOVE LEFT TO RIGHT
00484  83F0  29 08       AND    #%00001000      ;SEE IF MSB OF X IS SET
00485  83F2  D0 0F       BNE    LOOP38
00486  83F4  AD 06 D0    LDA    VICII+6         ;SEE IF UFO IS @ $FF
00487  83F7  C9 FF       CMP    #$FF
00488  83F9  D0 0F       BNE    LOOP39
00489  83FB  AD 10 D0    LDA    VICII+$10
00490  83FE  09 08       ORA    #%00001000      ;UFO REACHED $100
00491  8400  8D 10 D0    STA    VICII+$10
00492  8403  AD 06 D0    LOOP38 LDA VICII+6
00493  8406  C9 57       CMP    #$57            ;RIGHT EDGE OF SCREEN
00494  8408  F0 04       BEQ    LOOP37
00495  840A  EE 06 D0    LOOP39 INC VICII+6
00496  840D  60          RTS
00497  840E  AD 15 D0    LOOP37 LDA VICII+$15
00498  8411  29 F7       AND    #%11110111      ;TURN UFO OFF
00499  8413  8D 15 D0    STA    VICII+$15
00500  8416  A9 00       LDA    #$00
00501  8418  8D 37 88    STA    INITU2
00502  841B  60          RTS
00503  841C              ;
00504  841C              ;BOMB 1 MOVEMENT
00505  841C              ;
00506  841C  AD 3A 88    BOMB1  LDA INITB1      ;SEE IF BOMB INIT YET
00507  841F  D0 4C       BNE    LOOP41
00508  8421  A9 01       LDA    #$01
00509  8423  8D 3A 88    STA    INITB1
00510  8426  AD 04 D0    LDA    VICII+4         ;GET UFO 1 X POS
00511  8429  8D 08 D0    STA    VICII+8
00512  842C  AD 10 D0    LDA    VICII+$10
00513  842F  29 04       AND    #%00000100      ;SEE IF MSB OF UFO IS SET
00514  8431  D0 08       BNE    LOOP42
00515  8433  AD 10 D0    LDA    VICII+$10
00516  8436  29 EF       AND    #%11101111
00517  8438  4C 40 84    JMP    LOOP43
00518  843B  AD 10 D0    LOOP42 LDA VICII+$10
00519  843E  09 10       ORA    #%00010000
00520  8440  8D 10 D0    LOOP43 STA VICII+$10
00521  8443  AD 05 D0    LDA    VICII+5         ;GET UFO 1 Y POS
00522  8446  8D 09 D0    STA    VICII+9
00523  8449  AD 15 D0    LDA    VICII+$15
00524  844C  09 10       ORA    #%00010000      ;TURN BOMB ON
00525  844E  8D 15 D0    STA    VICII+$15
00526  8451  A9 D0       LDA    #$D0
00527  8453  8D 0C D4    STA    SID+$0C         ;SET ATTACK/DECAY V2
00528  8456  A9 00       LDA    #$00
00529  8458  8D 0D D4    STA    SID+$0D         ;SET SUSTAIN/RELEASE V2
00530  845B  A9 00       LDA    #$00
00531  845D  8D 07 D4    STA    SID+$07         ;SET FREQ LO
00532  8460  A9 E0       LDA    #$E0
00533  8462  8D 08 D4    STA    SID+$08         ;SET FREQ HI
00534  8465  8D 3B 88    STA    B1FREQ          ;SAVE HI FREQ
00535  8468  A9 21       LDA    #%00100001      ;SELECT SAWTOOTH WAVEFORM AND GATE BIT
00536  846A  8D 0B D4    STA    SID+$0B
00537  846D  AD 09 D0    LOOP41 LDA VICII+9
00538  8470  C9 DD       CMP    #$DD
00539  8472  D0 05       BNE    LOOP74
00540  8474  A2 20       LDX    #%00100000
00541  8476  8E 0B D4    STX    SID+$0B         ;START RELEASE CYCLE
00542  8479  C9 E5       LOOP74 CMP #$E5        ;SEE IF BOMB IS @ BOTTOM OF SCREEN
00543  847B  F0 28       BEQ    LOOP44
00544  847D  EE 09 D0    INC    VICII+9         ;MOVE BOMB 1 DOWN
00545  8480  AD 2B 88    LDA    COLREG          ;GET COLLISION REG
00546  8483  29 12       AND    #%00010010      ;SEE IF BOMB AND MISSLE HIT
00547  8485  C9 12       CMP    #%00010010
00548  8487  D0 12       BNE    LOOP58          ;NO
00549  8489  A9 20       LDA    #%00100000
00550  848B  8D 0B D4    STA    SID+$0B         ;START RELEASE CYCLE
00551  848E  A2 00       LDX    #$00
00552  8490  A0 01       LDY    #$01
00553  8492  20 9E 86    JSR    SCORE           ;ADD 100 TO SCORE
00554  8495  20 45 82    JSR    LOOP17          ;KILL MISSLE
00555  8498  4C A5 84    JMP    LOOP44          ;KILL BOMB
00556  849B  CE 3B 88    LOOP58 DEC B1FREQ
00557  849E  AD 3B 88    LDA    B1FREQ
00558  84A1  8D 08 D4    STA    SID+$08         ;LOWER FREQ
00559  84A4  60          RTS
00560  84A5  A9 00       LOOP44 LDA #$00
00561  84A7  8D 3A 88    STA    INITB1
00562  84AA  8D 36 88    STA    BD1
00563  84AD  AD 15 D0    LDA    VICII+$15
00564  84B0  29 EF       AND    #%11101111      ;TURN OFF
00565  84B2  8D 15 D0    STA    VICII+$15
00566  84B5  AE 08 D0    LDX    VICII+8         ;BOMB X LO
00567  84B8  AC 09 D0    LDY    VICII+9         ;BOMB Y
00568  84BB  18          CLC
00569  84BC  AD 10 D0    LDA    VICII+$10       ;GET X HI
00570  84BF  29 10       AND    #%00010000
00571  84C1  F0 01       BEQ    LOOP53
00572  84C3  38          SEC
00573  84C4  4C 72 85    LOOP53 JMP EXP1        ;INIT EXPLOSION
00574  84C7              ;
00575  84C7              ;BOMB 2 MOVEMENT
00576  84C7              ;
00577  84C7  AD 3C 88    BOMB2  LDA INITB2      ;SEE IF BOMB INIT YET
00578  84CA  D0 4C       BNE    LOOP49
00579  84CC  A9 01       LDA    #$01
00580  84CE  8D 3C 88    STA    INITB2
00581  84D1  AD 06 D0    LDA    VICII+6         ;GET UFO 2 X POS
00582  84D4  8D 0A D0    STA    VICII+10
00583  84D7  AD 10 D0    LDA    VICII+$10
00584  84DA  29 08       AND    #%00001000      ;SEE IF MSB OF UFO IS SET
00585  84DC  D0 08       BNE    LOOP50
00586  84DE  AD 10 D0    LDA    VICII+$10
00587  84E1  29 DF       AND    #%11011111
00588  84E3  4C EB 84    JMP    LOOP51
00589  84E6  AD 10 D0    LOOP50 LDA VICII+$10
00590  84E9  09 20       ORA    #%00100000
00591  84EB  8D 10 D0    LOOP51 STA VICII+$10
00592  84EE  AD 07 D0    LDA    VICII+7         ;GET UFO 2 Y POS
00593  84F1  8D 0B D0    STA    VICII+11
00594  84F4  AD 15 D0    LDA    VICII+$15
00595  84F7  09 20       ORA    #%00100000      ;TURN BOMB ON
00596  84F9  8D 15 D0    STA    VICII+$15
00597  84FC  A9 D0       LDA    #$D0
00598  84FE  8D 13 D4    STA    SID+$13         ;SET ATTACK/DECAY V3
00599  8501  A9 00       LDA    #$00
00600  8503  8D 14 D4    STA    SID+$14         ;SET SUSTAIN/RELEASE V3
00601  8506  A9 00       LDA    #$00
00602  8508  8D 0E D4    STA    SID+$0E         ;SET FREQ LO
00603  850B  A9 E0       LDA    #$E0
00604  850D  8D 0F D4    STA    SID+$0F         ;SET FREQ HI
00605  8510  8D 3D 88    STA    B2FREQ          ;SAVE HI FREQ
00606  8513  A9 21       LDA    #%00100001      ;SELECT SAWTOOTH WAVEFORM AND GATE BIT
00607  8515  8D 12 D4    STA    SID+$12
00608  8518  AD 0B D0    LOOP49 LDA VICII+11
00609  851B  C9 DD       CMP    #$DD
00610  851D  D0 05       BNE    LOOP75
00611  851F  A2 20       LDX    #%00100000      ;START RELEASE CYCLE
00612  8521  8E 12 D4    STX    SID+$12
00613  8524  C9 E5       LOOP75 CMP #$E5        ;SEE IF BOMB IS @ BOTTOM OF SCREEN
00614  8526  F0 28       BEQ    LOOP52
00615  8528  EE 0B D0    INC    VICII+11        ;MOVE BOMB 2 DOWN
00616  852B  AD 2B 88    LDA    COLREG          ;GET COLLISION REG
00617  852E  29 22       AND    #%00100010      ;SEE IF BOMB AND MISSLE HIT
00618  8530  C9 22       CMP    #%00100010
00619  8532  D0 12       BNE    LOOP59          ;NO
00620  8534  A9 20       LDA    #%00100000
00621  8536  8D 12 D4    STA    SID+$12         ;START RELEASE CYCLE
00622  8539  A2 00       LDX    #$00
00623  853B  A0 01       LDY    #$01
00624  853D  20 9E 86    JSR    SCORE           ;ADD 100 TO SCORE
00625  8540  20 45 82    JSR    LOOP17          ;KILL MISSLE
00626  8543  4C 50 85    JMP    LOOP52          ;KILL BOMB
00627  8546  CE 3D 88    LOOP59 DEC B2FREQ      ;LOWER FREQ
00628  8549  AD 3D 88    LDA    B2FREQ
00629  854C  8D 0F D4    STA    SID+$0F
00630  854F  60          RTS
00631  8550  A9 00       LOOP52 LDA #$00
00632  8552  8D 3C 88    STA    INITB2
00633  8555  8D 39 88    STA    BD2
00634  8558  AD 15 D0    LDA    VICII+$15
00635  855B  29 DF       AND    #%11011111
00636  855D  8D 15 D0    STA    VICII+$15
00637  8560  AE 0A D0    LDX    VICII+10        ;BOMB X LO
00638  8563  AC 0B D0    LDY    VICII+11        ;BOMB Y
00639  8566  18          CLC
00640  8567  AD 10 D0    LDA    VICII+$10       ;GET X HI
00641  856A  29 20       AND    #%00100000
00642  856C  F0 01       BEQ    LOOP57
00643  856E  38          SEC
00644  856F  4C 72 85    LOOP57 JMP EXP1        ;INIT EXPLOSION
00645  8572              ;
00646  8572              ;BOMB EXPLOSION
00647  8572              ;
00648  8572  8E 0C D0    EXP1   STX VICII+12    ;EXP X LO
00649  8575  8C 0D D0    STY    VICII+13        ;EXP Y
00650  8578  AD 10 D0    LDA    VICII+$10       ;GET X HI
00651  857B  29 BF       AND    #%10111111
00652  857D  90 02       BCC    LOOP54          ;X HI NOT SET
00653  857F  09 40       ORA    #%01000000
00654  8581  8D 10 D0    LOOP54 STA VICII+$10
00655  8584  AD 15 D0    LDA    VICII+$15
00656  8587  09 40       ORA    #%01000000      ;TURN ON
00657  8589  8D 15 D0    STA    VICII+$15
00658  858C  A9 08       LDA    #$08            ;8/15 TH OF A SEC
00659  858E  8D 43 88    STA    TIMER1
00660  8591  A9 01       LDA    #$01
00661  8593  8D 2A 88    STA    RTNUM+3         ;START IRQ PROCESSING
00662  8596  60          RTS
00663  8597              ;
00664  8597              ;BOMB EXPLOSION IRQ PROCESSING
00665  8597              ;
00666  8597  AE 43 88    RT1    LDX TIMER1
00667  859A  BD 43 88    LDA    TIMER1,X
00668  859D  8D 2D D0    STA    VICII+$2D       ;CHANGE COLOR
00669  85A0  CE 43 88    DEC    TIMER1
00670  85A3  D0 0D       BNE    LOOP55
00671  85A5  AD 15 D0    LDA    VICII+$15
00672  85A8  29 BF       AND    #%10111111      ;TURN OFF
00673  85AA  8D 15 D0    STA    VICII+$15
00674  85AD  A9 00       LDA    #$00
00675  85AF  8D 2A 88    STA    RTNUM+3         ;STOP IRQ PROCESSING
00676  85B2  60          LOOP55 RTS
00677  85B3              ;
00678  85B3              ;UFO EXPLOSION INITILIZE
00679  85B3              ;
00680  85B3  8E 0E D0    EXP2   STX VICII+14    ;EXP X LO
00681  85B6  8C 0F D0    STY    VICII+15        ;EXP Y
00682  85B9  AD 10 D0    LDA    VICII+$10       ;GET X HI
00683  85BC  29 7F       AND    #%01111111
00684  85BE  90 02       BCC    LOOP62          ;X HI NOT SET
00685  85C0  09 80       ORA    #%10000000
00686  85C2  8D 10 D0    LOOP62 STA VICII+$10
00687  85C5  A9 80       LDA    #$80            ;SET ATTACK/DECAY V1
00688  85C7  8D 05 D4    STA    SID+$05
00689  85CA  A9 F8       LDA    #$F8            ;SET SUSTAIN/RELEASE V1
00690  85CC  8D 06 D4    STA    SID+$06
00691  85CF  A9 FF       LDA    #$FF            ;STORE MISSLE FREQ.
00692  85D1  8D 00 D4    STA    SID             ;LO FREQ
00693  85D4  A9 81       LDA    #$81
00694  85D6  8D 01 D4    STA    SID+1           ;HI FREQ
00695  85D9  8D 3E 88    STA    EXPFRQ
00696  85DC  A9 81       LDA    #%10000001      ;SET RANDOM NOISE + GATE BIT
00697  85DE  8D 04 D4    STA    SID+$04
00698  85E1  A9 80       LDA    #%10000000
00699  85E3  8D 04 D4    STA    SID+$04         ;START RELEASE CYCLE
00700  85E6  A9 06       LDA    #$06            ; 6/15 TH SECOND
00701  85E8  8D 4C 88    STA    TIMER2
00702  85EB  A9 02       LDA    #$02
00703  85ED  8D 28 88    STA    RTNUM+1         ;START IRQ PROCESSING
00704  85F0  AD 15 D0    LDA    VICII+$15
00705  85F3  09 80       ORA    #%10000000      ;TURN ON
00706  85F5  8D 15 D0    STA    VICII+$15
00707  85F8  60          RTS
00708  85F9              ;
00709  85F9              ;UFO EXPLOSION IRQ PROCESSING
00710  85F9              ;
00711  85F9  AE 4C 88    RT2    LDX TIMER2
00712  85FC  BD 4C 88    LDA    TIMER2,X
00713  85FF  8D FF CB    STA    SPRPTR+7        ;CHANGE SPRITE POINTER
00714  8602  2E 3E 88    ROL    EXPFRQ
00715  8605  AD 3E 88    LDA    EXPFRQ
00716  8608  8D 01 D4    STA    SID+1           ;CHANGE SOUND
00717  860B  CE 4C 88    DEC    TIMER2
00718  860E  D0 0D       BNE    LOOP63
00719  8610  AD 15 D0    LDA    VICII+$15
00720  8613  29 7F       AND    #%01111111      ;TURN OFF
00721  8615  8D 15 D0    STA    VICII+$15
00722  8618  A9 00       LDA    #$00
00723  861A  8D 28 88    STA    RTNUM+1         ;STOP IRQ PROCESSING
00724  861D  60          LOOP63 RTS
00725  861E              ;
00726  861E              ;TANK EXPLOSION IRQ PROCESSING
00727  861E              ;
00728  861E  AE 53 88    RT3    LDX TIMER3
00729  8621  BD 63 88    LDA    EXPCLR,X
00730  8624  8D 27 D0    STA    VICII+$27       ;CHANGE COLOR
00731  8627  BD 53 88    LDA    TIMER3,X
00732  862A  8D F8 CB    STA    SPRPTR          ;CHANGE SPRITE POINTER
00733  862D  6E 3F 88    ROR    TNKSND
00734  8630  AD 3F 88    LDA    TNKSND
00735  8633  8D 01 D4    STA    SID+$01         ;CHANGE SOUND
00736  8636  CE 53 88    DEC    TIMER3
00737  8639  D0 37       BNE    LOOP68
00738  863B  A9 00       LDA    #$00
00739  863D  8D 17 D0    STA    VICII+$17       ;UNEXPAND Y
00740  8640  A9 05       LDA    #$05
00741  8642  8D 27 D0    STA    VICII+$27       ;RESTORE COLOR
00742  8645  A9 AB       LDA    #$AB
00743  8647  8D 00 D0    STA    VICII           ;SET TANK X LO
00744  864A  A9 DD       LDA    #$DD
00745  864C  8D 01 D0    STA    VICII+1         ;TANK Y
00746  864F  AD 10 D0    LDA    VICII+$10
00747  8652  29 FE       AND    #%11111110
00748  8654  8D 10 D0    STA    VICII+$10       ;SET MSB X
00749  8657  A9 10       LDA    #$10
00750  8659  8D F8 CB    STA    SPRPTR          ;RESTORE TANK
00751  865C  A9 00       LDA    #$00
00752  865E  8D 04 D4    STA    SID+$04
00753  8661  8D 29 88    STA    RTNUM+2         ;STOP IRQ PROCESSING
00754  8664  8D 2D 88    STA    TNKEXP          ;RESTART JOYSTICK READ
00755  8667  AD 1E D0    LDA    VICII+$1E       ;CLEAR COLLISION REG
00756  866A  AE 2F 88    LDX    NUMTNK          ;GET # LEFT
00757  866D  A9 20       LDA    #$20            ;SPACE
00758  866F  9D 1B C8    STA    SCREEN+$1B,X    ;ERASE 1 TANK
00759  8672  60          LOOP68 RTS
00760  8673              ;
00761  8673              ;SCROLL BOTTOM LINE OF SCREEN
00762  8673              ;
00763  8673  AD E7 CB    SCROLL LDA SCREEN+$03E7
00764  8676  48          PHA                    ;SAVE RIGHT MOST CHAR
00765  8677  A2 00       LDX    #$00
00766  8679  BD C1 CB    LOOP69 LDA SCREEN+$3C1,X ;GET CHAR 1 SPACE TO THE RIGHT
00767  867C  9D C0 CB    STA    SCREEN+$03C0,X  ;STORE 1 TO THE LEFT
00768  867F  E8          INX
00769  8680  E0 27       CPX    #$27            ;MOVE 39 CHARS
00770  8682  D0 F5       BNE    LOOP69
00771  8684  68          PLA                    ;GET MOST RIGHT CHAR
00772  8685  AE 12 D0    LDX    VICII+$12       ;GET RANDOM #
00773  8688  30 08       BMI    LOOP70
00774  868A  C9 47       CMP    #$47            ;MAX LINE LEVEL
00775  868C  F0 0C       BEQ    LOOP71
00776  868E  EE E7 CB    INC    SCREEN+$03E7    ;LOWER LINE
00777  8691  60          RTS
00778  8692  C9 40       LOOP70 CMP #$40        ;MIN LINE LEVEL
00779  8694  F0 04       BEQ    LOOP71
00780  8696  CE E7 CB    DEC    SCREEN+$03E7    ;RAISE LINE
00781  8699  60          RTS
00782  869A  8D E7 CB    LOOP71 STA SCREEN+$03E7
00783  869D  60          RTS
00784  869E              ;
00785  869E              ;UPDATE AND DISPLAY SCORE
00786  869E              ;SET X FOR LOW 2 DIGITS AND Y FOR MIDDLE 2 DIGITS
00787  869E              ;
00788  869E  F8          SCORE  SED             ;ADDITION IN DECIMAL
00789  869F  18          CLC
00790  86A0  8A          TXA
00791  86A1  6D 40 88    ADC    SC              ;ADD DIGITS 0&1
00792  86A4  8D 40 88    STA    SC
00793  86A7  A9 00       LDA    #$00
00794  86A9  6D 41 88    ADC    SC+1            ;ADD CARRY
00795  86AC  8D 41 88    STA    SC+1
00796  86AF  98          TYA
00797  86B0  6D 41 88    ADC    SC+1            ;ADD DIGITS 2&3
00798  86B3  8D 41 88    STA    SC+1
00799  86B6  A9 00       LDA    #$00
00800  86B8  6D 42 88    ADC    SC+2            ;ADD CARRY
00801  86BB  8D 42 88    STA    SC+2
00802  86BE  D8          CLD                    ;BACK TO BINARY
00803  86BF  A2 00       LDX    #$00
00804  86C1  A0 06       LDY    #$06
00805  86C3  BD 40 88    LOOP72 LDA SC,X
00806  86C6  48          PHA                    ;SAVE DIGITS
00807  86C7  29 0F       AND    #$0F            ;GET RIGHT DIGIT
00808  86C9  18          CLC
00809  86CA  69 30       ADC    #$30            ;ADD SCREEN CODE FOR '0'
00810  86CC  99 05 C8    STA    SCREEN+$05,Y
00811  86CF  88          DEY
00812  86D0  68          PLA
00813  86D1  4A          LSR    A               ;
00814  86D2  4A          LSR    A               ; GET LEFT DIGIT
00815  86D3  4A          LSR    A               ;
00816  86D4  4A          LSR    A               ;
00817  86D5  18          CLC
00818  86D6  69 30       ADC    #$30            ;ADD '0' SCREEN CODE
00819  86D8  99 05 C8    STA    SCREEN+$05,Y
00820  86DB  88          DEY
00821  86DC  E8          INX
00822  86DD  E0 03       CPX    #$03            ;3 DIGIT PAIRS
00823  86DF  D0 E2       BNE    LOOP72
00824  86E1  AD 42 88    LDA    SC+2
00825  86E4  CD 30 88    CMP    LEVEL
00826  86E7  D0 16       BNE    LOOP73
00827  86E9  EE 30 88    INC    LEVEL           ;INCREASE LEVEL
00828  86EC  EE 13 C8    INC    SCREEN+$13      ;DISPLAY NEW LEVEL
00829  86EF  EE 2F 88    INC    NUMTNK          ;BONUS TANK
00830  86F2  AE 2F 88    LDX    NUMTNK
00831  86F5  A9 48       LDA    #$48            ;TANK CHAR
00832  86F7  9D 1A C8    STA    SCREEN+$1A,X    ;DISPLAY TANKS
00833  86FA  A9 05       LDA    #$05            ;GREEN
00834  86FC  9D 1A D8    STA    COLMEM+$1A,X    ;SET COLOR
00835  86FF  60          LOOP73 RTS
00836  8700              ;
00837  8700              ;END GAME
00838  8700              ;
00839  8700  A9 41       ENDGAM LDA #%01000001
00840  8702  8D 15 D0    STA    VICII+$15       ;TURN ALL SPRITES OFF, BUT EXPLOSIONS
00841  8705  20 45 82    JSR    LOOP17          ;KILL MISSLE
00842  8708  20 37 83    JSR    LOOP28          ;KILL UFO1
00843  870B  20 0E 84    JSR    LOOP37          ;KILL UFO2
00844  870E  20 A5 84    JSR    LOOP44          ;KILL BOMB1
00845  8711  20 50 85    JSR    LOOP52          ;KILL BOMB2
00846  8714  A9 17       LDA    #$17
00847  8716  8D F9 CB    STA    SPRPTR+1        ;SET SPRITE POINTER FOR GAME OVER SPRITE
00848  8719  AD 10 D0    LDA    VICII+$10       ;GET X MSB
00849  871C  29 FD       AND    #%11111101      ;CLEAR
00850  871E  8D 10 D0    STA    VICII+$10
00851  8721  A9 A1       LDA    #$A1
00852  8723  8D 02 D0    STA    VICII+2         ;SET X
00853  8726  A9 22       LDA    #$22
00854  8728  8D 03 D0    STA    VICII+3         ;SET Y
00855  872B  A9 02       LDA    #%00000010
00856  872D  8D 1D D0    STA    VICII+$1D       ;EXPAND X
00857  8730  A9 02       LDA    #%00000010
00858  8732  0D 15 D0    ORA    VICII+$15
00859  8735  8D 15 D0    STA    VICII+$15       ;TURN ON SPRITE
00860  8738  A9 00       LDA    #$00
00861  873A  48          PHA                    ;SET UP COLOR READ
00862  873B  A2 0B       LOOP86 LDX #$0B        ;CURSOR Y POS
00863  873D  A0 0C       LDY    #$0C            ;CURSOR X POS
00864  873F  18          CLC                    ;SET FOR PLOT
00865  8740  20 F0 FF    JSR    PLOT            ;PLOT CURSOR
00866  8743  68          PLA
00867  8744  AA          TAX
00868  8745  BD BF 88    LDA    EGCOLR,X
00869  8748  8D 86 02    STA    CCOLOR          ;SET CURSOR COLOR
00870  874B  8D 28 D0    STA    VICII+$28       ;SET SPRITE COLOR
00871  874E  E8          INX
00872  874F  E0 10       CPX    #$10            ;16 COLORS
00873  8751  D0 02       BNE    LOOP85
00874  8753  A2 00       LDX    #$00
00875  8755  8A          LOOP85 TXA
00876  8756  48          PHA                    ;SAVE COLOR READ POSITION
00877  8757  A2 00       LDX    #$00
00878  8759  BD AF 88    LOOP81 LDA EGTEXT,X    ;GET LETTER
00879  875C  20 D2 FF    JSR    PRINT           ;DISPLAY
00880  875F  E8          INX
00881  8760  E0 10       CPX    #$10
00882  8762  D0 F5       BNE    LOOP81
00883  8764  A9 0C       LDA    #$0C            ;MASTER TIME DELAY
00884  8766  48          LOOP87 PHA
00885  8767  A9 00       LDA    #$00            ;SECONDARY TIME DELAY
00886  8769  48          LOOP84 PHA
00887  876A  20 E4 FF    JSR    GETIN           ;GET CHAR FROM KEYBOARD
00888  876D  C9 85       CMP    #$85            ;F1 KEY
00889  876F  D0 0B       BNE    LOOP83
00890  8771  68          PLA                    ;GET MASTER TIME DELAY
00891  8772  68          PLA                    ;GET TIME DELAY
00892  8773  68          PLA                    ;GET COLOR READ
00893  8774  A9 00       LDA    #$00
00894  8776  8D 1D D0    STA    VICII+$1D
00895  8779  4C 0C 80    JMP    REPLAY          ;RE-START GAME
00896  877C  68          LOOP83 PLA             ;GET TIME DELAY
00897  877D  AA          TAX
00898  877E  CA          DEX                    ;COUNT DOWN TO 0
00899  877F  8A          TXA
00900  8780  D0 E7       BNE    LOOP84
00901  8782  EE 03 D0    INC    VICII+3         ;MOVE DOWN SCREEN
00902  8785  AD 03 D0    LDA    VICII+3         ;GET G/O SPRITE Y POS
00903  8788  C9 F5       CMP    #$F5            ;BOTTOM OF SCREEN?
00904  878A  D0 02       BNE    LOOP88
00905  878C  A9 22       LDA    #$22            ;TOP OF SCREEN
00906  878E  8D 03 D0    LOOP88 STA VICII+3
00907  8791  68          PLA
00908  8792  AA          TAX
00909  8793  CA          DEX                    ;COUNT DOWN TO 0
00910  8794  8A          TXA
00911  8795  D0 CF       BNE    LOOP87
00912  8797  4C 3B 87    JMP    LOOP86
00913  879A              ;
00914  879A              ;TITLE SCREEN
00915  879A              ;
00916  879A  A9 00       TITLE  LDA #$00        ;BORDER COLOR
00917  879C  8D 20 D0    STA    VICII+$20
00918  879F  8D 21 D0    STA    VICII+$21
00919  87A2  A9 0E       LDA    #$0E            ;LT. BLUE
00920  87A4  8D 86 02    STA    CCOLOR          ;SET CURSOR COLOR
00921  87A7  A9 93       LDA    #$93            ;CLEAR SCREEN
00922  87A9  20 D2 FF    JSR    PRINT
00923  87AC  A9 57       LDA    #$57            ;TOP LEFT CORNER
00924  87AE  8D 00 C8    STA    SCREEN
00925  87B1  A9 58       LDA    #$58            ;TOP RIGHT CORNER
00926  87B3  8D 27 C8    STA    SCREEN+$27
00927  87B6  A9 59       LDA    #$59            ;BOTTOM LEFT CORNER
00928  87B8  8D C0 CB    STA    SCREEN+$3C0
00929  87BB  A9 5A       LDA    #$5A            ;BOTTOM RIGHT CORNER
00930  87BD  8D E7 CB    STA    SCREEN+$3E7
00931  87C0  A2 00       LDX    #$00            ;DRAW TOP AND BOTTOM LINES
00932  87C2  A9 5D       LOOP90 LDA #$5D        ;TOP LINE
00933  87C4  9D 01 C8    STA    SCREEN+$01,X
00934  87C7  A9 5E       LDA    #$5E            ;BOTTOM LINE
00935  87C9  9D C1 CB    STA    SCREEN+$3C1,X
00936  87CC  E8          INX
00937  87CD  E0 26       CPX    #$26            ;38 CHARS
00938  87CF  D0 F1       BNE    LOOP90
00939  87D1  A9 C8       LDA    #>SCREEN        ;GET MSB OF SCREEN MEM
00940  87D3  85 FC       STA    INDEX+1
00941  87D5  A9 28       LDA    #$28
00942  87D7  85 FB       STA    INDEX           ;SECOND LINE FROM TOP
00943  87D9  A2 17       LDX    #$17            ;24 LINES
00944  87DB  A0 00       LOOP91 LDY #$00
00945  87DD  A9 5B       LDA    #$5B            ;LEFT LINE
00946  87DF  91 FB       STA    (INDEX),Y
00947  87E1  A0 27       LDY    #$27
00948  87E3  A9 5C       LDA    #$5C            ;RIGHT LINE
00949  87E5  91 FB       STA    (INDEX),Y
00950  87E7  18          CLC
00951  87E8  A5 FB       LDA    INDEX
00952  87EA  69 28       ADC    #$28
00953  87EC  85 FB       STA    INDEX
00954  87EE  A5 FC       LDA    INDEX+1
00955  87F0  69 00       ADC    #$00            ;ADD CARRY
00956  87F2  85 FC       STA    INDEX+1
00957  87F4  CA          DEX
00958  87F5  D0 E4       BNE    LOOP91
00959  87F7  A2 00       LDX    #$00            ;PRINT TITLE INFO
00960  87F9  BD CF 88    LOOP93 LDA TTEXT,X
00961  87FC  D0 18       BNE    LOOP92          ;PRINT OR PLOT? 0=PLOT
00962  87FE  E8          INX
00963  87FF  BD CF 88    LDA    TTEXT,X
00964  8802  48          PHA
00965  8803  E8          INX
00966  8804  BD CF 88    LDA    TTEXT,X
00967  8807  86 FB       STX    INDEX
00968  8809  A8          TAY
00969  880A  68          PLA
00970  880B  AA          TAX
00971  880C  18          CLC
00972  880D  20 F0 FF    JSR    PLOT            ;PLOT CURSOR
00973  8810  A6 FB       LDX    INDEX
00974  8812  E8          INX
00975  8813  4C F9 87    JMP    LOOP93
00976  8816  20 D2 FF    LOOP92 JSR PRINT
00977  8819  E8          INX
00978  881A  E0 C9       CPX    #$C9
00979  881C  D0 DB       BNE    LOOP93
00980  881E  20 E4 FF    LOOP94 JSR GETIN       ;CHECK FOR F1 KEY
00981  8821  C9 85       CMP    #$85
00982  8823  D0 F9       BNE    LOOP94
00983  8825  60          RTS
00984  8826              ;
00985  8826              ;VARIABLES AND DATA USED BY SUBROUTINES
00986  8826              ;
00987  8826  00          RTSCN  .BYTE 0         ;IRQ ROUTINE SCANER
00988  8827  00          RTNUM  .BYTE 0,0,0,0   ;ZERO ALL 4 REGS
00988  8828  00 
00988  8829  00 
00988  882A  00 
00989  882B  00          COLREG .BYTE 0         ;STORAGE FOR SPRITE TO SPRITE COLLISION REG
00990  882C  00          MLOOP  .BYTE 0         ;MISSLE LOOP
00991  882D  00          TNKEXP .BYTE 0         ;TANK EXPLODING?
00992  882E  00          FIRTGL .BYTE 0         ;MISSLE FIERED? 0=NO 1=YES
00993  882F  00          NUMTNK .BYTE 0         ;# OF TANKS LEFT
00994  8830  00          LEVEL  .BYTE 0
00995  8831  00          UFODIR .BYTE 0         ;DIRECTION OF UFO USED IN INITILIZATION
00996  8832  00          XPOS   .BYTE 0         ;X POSITION OF UFO USED IN INITILIZATION
00997  8833  00          YPOS   .BYTE 0         ;Y POSITION OF UFO USED IN INITILIZATION
00998  8834  00          INITU1 .BYTE 0         ;UFO1 INITILIZED? 0=NO 1=YES
00999  8835  00          U1DIR  .BYTE 0         ;DIRECTION OF UFO1
01000  8836  00          BD1    .BYTE 0         ;BOMB1 DROPED?
01001  8837  00          INITU2 .BYTE 0         ;UFO2 INITILIZED?
01002  8838  00          U2DIR  .BYTE 0         ;UFO2 DIRECTION
01003  8839  00          BD2    .BYTE 0         ;BOMB2 DROPED?
01004  883A  00          INITB1 .BYTE 0         ;BOMB1 INITILIZED?
01005  883B  00          B1FREQ .BYTE 0         ;BOMB1 FREQ
01006  883C  00          INITB2 .BYTE 0         ;BOMB2 INITILIZED?
01007  883D  00          B2FREQ .BYTE 0         ;BOMB2 FREQ
01008  883E  00          EXPFRQ .BYTE 0         ;UFO EXPLOSION FREQ
01009  883F  00          TNKSND .BYTE 0         ;TANK EXPLOSION FREQ
01010  8840  00          SC     .BYTE 0,0,0     ;6 DIGIT SCORE
01010  8841  00 
01010  8842  00 
01011  8843  00          TIMER1 .BYTE 0,11,12,11,12,15,12,15,1
01011  8844  0B 
01011  8845  0C 
01011  8846  0B 
01011  8847  0C 
01011  8848  0F 
01011  8849  0C 
01011  884A  0F 
01011  884B  01 
01012  884C  00          TIMER2 .BYTE 0,$16,$16,$15,$15,$14,$14
01012  884D  16 
01012  884E  16 
01012  884F  15 
01012  8850  15 
01012  8851  14 
01012  8852  14 
01013  8853  00          TIMER3 .BYTE 0,$16,$16,$16,$16,$16,$15,$15,$15,$15,$15,$14,$14,$14,$14,$14
01013  8854  16 
01013  8855  16 
01013  8856  16 
01013  8857  16 
01013  8858  16 
01013  8859  15 
01013  885A  15 
01013  885B  15 
01013  885C  15 
01013  885D  15 
01013  885E  14 
01013  885F  14 
01013  8860  14 
01013  8861  14 
01013  8862  14 
01014  8863  00          EXPCLR .BYTE 0,$11,$11,$12,$12,$15,$15,$01,$01,$0A,$0A,$02,$0A,$02,$0A,$02
01014  8864  11 
01014  8865  11 
01014  8866  12 
01014  8867  12 
01014  8868  15 
01014  8869  15 
01014  886A  01 
01014  886B  01 
01014  886C  0A 
01014  886D  0A 
01014  886E  02 
01014  886F  0A 
01014  8870  02 
01014  8871  0A 
01014  8872  02 
01015  8873  43 48       NAME   .BYTE 'CHRSPR.DAT'
01016  887D  93          SDATA  .BYTE $93,$05,'SCORE:000000',$9F,' LEVEL:1',$1E,' TANKS:',$C8,$C8,$C8
01016  887E  05 
01016  887F  53 43 
01016  888B  9F 
01016  888C  20 4C 
01016  8894  1E 
01016  8895  20 54 
01016  889C  C8 
01016  889D  C8 
01016  889E  C8 
01017  889F  10          SPRTBL .BYTE $10,$11,$12,$12,$13,$13,$14,$14
01017  88A0  11 
01017  88A1  12 
01017  88A2  12 
01017  88A3  13 
01017  88A4  13 
01017  88A5  14 
01017  88A6  14 
01018  88A7  05          SPCOLR .BYTE $05,$01,$04,$0E,$01,$01,$01,$01
01018  88A8  01 
01018  88A9  04 
01018  88AA  0E 
01018  88AB  01 
01018  88AC  01 
01018  88AD  01 
01018  88AE  01 
01019  88AF  50 52       EGTEXT .BYTE 'PRESS F1 TO PLAY'
01020  88BF  09          EGCOLR .BYTE $09,$02,$08,$0A,$01,$05,$0D,$01,$06,$0E,$03,$01,$0B,$0C,$0F
01020  88C0  02 
01020  88C1  08 
01020  88C2  0A 
01020  88C3  01 
01020  88C4  05 
01020  88C5  0D 
01020  88C6  01 
01020  88C7  06 
01020  88C8  0E 
01020  88C9  03 
01020  88CA  01 
01020  88CB  0B 
01020  88CC  0C 
01020  88CD  0F 
01021  88CE  01          .BYTE  $01
01022  88CF  00          TTEXT  .BYTE 0,3,12,96,97,98,99,100,101,102,103,103,103,102,101,100,99,98
01022  88D0  03 
01022  88D1  0C 
01022  88D2  60 
01022  88D3  61 
01022  88D4  62 
01022  88D5  63 
01022  88D6  64 
01022  88D7  65 
01022  88D8  66 
01022  88D9  67 
01022  88DA  67 
01022  88DB  67 
01022  88DC  66 
01022  88DD  65 
01022  88DE  64 
01022  88DF  63 
01022  88E0  62 
01023  88E1  61          .BYTE  97,96,0,4,12,105,106,107,107,117,109,32,110,109,106,32,106,108,108
01023  88E2  60 
01023  88E3  00 
01023  88E4  04 
01023  88E5  0C 
01023  88E6  69 
01023  88E7  6A 
01023  88E8  6B 
01023  88E9  6B 
01023  88EA  75 
01023  88EB  6D 
01023  88EC  20 
01023  88ED  6E 
01023  88EE  6D 
01023  88EF  6A 
01023  88F0  20 
01023  88F1  6A 
01023  88F2  6C 
01023  88F3  6C 
01024  88F4  6A          .BYTE  106,105,111,0,5,12,112,113,110,110,117,114,32,113,115,113,32
01024  88F5  69 
01024  88F6  6F 
01024  88F7  00 
01024  88F8  05 
01024  88F9  0C 
01024  88FA  70 
01024  88FB  71 
01024  88FC  6E 
01024  88FD  6E 
01024  88FE  75 
01024  88FF  72 
01024  8900  20 
01024  8901  71 
01024  8902  73 
01024  8903  71 
01024  8904  20 
01025  8905  74          .BYTE  116,117,117,116,112,118,0,6,12,103,102,101,100,99,98,97,96,96,96
01025  8906  75 
01025  8907  75 
01025  8908  74 
01025  8909  70 
01025  890A  76 
01025  890B  00 
01025  890C  06 
01025  890D  0C 
01025  890E  67 
01025  890F  66 
01025  8910  65 
01025  8911  64 
01025  8912  63 
01025  8913  62 
01025  8914  61 
01025  8915  60 
01025  8916  60 
01025  8917  60 
01026  8918  61          .BYTE  97,98,99,100,101,102,103,0,9,15,150,'V1.0/100186'
01026  8919  62 
01026  891A  63 
01026  891B  64 
01026  891C  65 
01026  891D  66 
01026  891E  67 
01026  891F  00 
01026  8920  09 
01026  8921  0F 
01026  8922  96 
01026  8923  56 31 
01027  892E  00          .BYTE  0,12,11,5,172,' 1986 '
01027  892F  0C 
01027  8930  0B 
01027  8931  05 
01027  8932  AC 
01027  8933  20 31 
01028  8939  7F          .BYTE  127,160,161,162,163,164,165,166,167,168,169,170,171
01028  893A  A0 
01028  893B  A1 
01028  893C  A2 
01028  893D  A3 
01028  893E  A4 
01028  893F  A5 
01028  8940  A6 
01028  8941  A7 
01028  8942  A8 
01028  8943  A9 
01028  8944  AA 
01028  8945  AB 
01029  8946  00          .BYTE  0,15,2,159,'YOU ARE BEING INVADED BY THE COMMIES'
01029  8947  0F 
01029  8948  02 
01029  8949  9F 
01029  894A  59 4F 
01030  896E  00          .BYTE  0,18,11,'CAN YOU STOP THEM?',0,21,11,05,'PRESS F1 TO START'
01030  896F  12 
01030  8970  0B 
01030  8971  43 41 
01030  8983  00 
01030  8984  15 
01030  8985  0B 
01030  8986  05 
01030  8987  50 52 
01031  8998              .END

SYMBOL TABLE

SYMBOL VALUE
 B1FREQ   883B    B2FREQ   883D    BD1      8836    BD2      8839
 BOMB1    841C    BOMB2    84C7    CCOLOR   0286    CIA1     DC00
 CIA2     DD00    COLMEM   D800    COLREG   882B    EGCOLR   88BF
 EGTEXT   88AF    ENDGAM   8700    EXP1     8572    EXP2     85B3
 EXPCLR   8863    EXPFRQ   883E    FIRE     81E0    FIRTGL   882E
 GETIN    FFE4    INDEX    00FB    INITB1   883A    INITB2   883C
 INITSP   80C8    INITU1   8834    INITU2   8837    INUFOS   8259
 IRQVEC   0314    KSCRN    0288    LEFT     81A0    LEVEL    8830
 LOAD     FFD5    LOADCS   804E    LOOP1    80A0    LOOP10   81BE
 LOOP11   81BB    LOOP12   81D5    LOOP13   81DC    LOOP14   81DF
 LOOP15   81E6    LOOP16   823A    LOOP17   8245    LOOP18   81FA
 LOOP19   81FF    LOOP2    80AA    LOOP20   8195    LOOP21   8274
 LOOP22   82B5    LOOP23   829C    LOOP24   829E    LOOP25   8316
 LOOP26   830B    LOOP27   8312    LOOP28   8337    LOOP29   832C
 LOOP3    80B4    LOOP30   8333    LOOP31   837B    LOOP32   8362
 LOOP33   8364    LOOP34   83ED    LOOP35   83E2    LOOP36   83E9
 LOOP37   840E    LOOP38   8403    LOOP39   840A    LOOP4    80B7
 LOOP40   838C    LOOP41   846D    LOOP42   843B    LOOP43   8440
 LOOP44   84A5    LOOP45   82C6    LOOP46   82C9    LOOP47   839D
 LOOP48   83A0    LOOP49   8518    LOOP5    80C1    LOOP50   84E6
 LOOP51   84EB    LOOP52   8550    LOOP53   84C4    LOOP54   8581
 LOOP55   85B2    LOOP56   819F    LOOP57   856F    LOOP58   849B
 LOOP59   8546    LOOP6    8111    LOOP60   82F2    LOOP61   82EF
 LOOP62   85C2    LOOP63   861D    LOOP64   83C9    LOOP65   83C6
 LOOP66   817A    LOOP67   813C    LOOP68   8672    LOOP69   8679
 LOOP70   8692    LOOP71   869A    LOOP72   86C3    LOOP73   86FF
 LOOP74   8479    LOOP75   8524    LOOP76   80CB    LOOP77   8120
 LOOP78   802A    LOOP79   8043    LOOP8    80EF    LOOP80   8045
 LOOP81   8759    LOOP83   877C    LOOP84   8769    LOOP85   8755
 LOOP86   873B    LOOP87   8766    LOOP88   878E    LOOP89   8039

SYMBOL TABLE

SYMBOL VALUE
 LOOP9    81B4    LOOP90   87C2    LOOP91   87DB    LOOP92   8816
 LOOP93   87F9    LOOP94   881E    MAIN     800F    MISSLE   8234
 MLOOP    882C    NAME     8873    NEWIRQ   808E    NRMIRQ   EA31
 NUMTNK   882F    PLOT     FFF0    PRINT    FFD2    REPLAY   800C
 RIGHT    81BF    RT1      8597    RT2      85F9    RT3      861E
 RT4      80C7    RTNUM    8827    RTSCN    8826    SC       8840
 SCORE    869E    SCREEN   C800    SCROLL   8673    SDATA    887D
 SETBNK   8066    SETIRQ   8081    SETLFS   FFBA    SETNAM   FFBD
 SID      D400    SPCOLR   88A7    SPRPTR   CBF8    SPRTBL   889F
 TANK     8136    TIMER1   8843    TIMER2   884C    TIMER3   8853
 TITLE    879A    TNKEXP   882D    TNKSND   883F    TTEXT    88CF
 U1DIR    8835    U2DIR    8838    UFO1     827F    UFO2     8345
 UFODIR   8831    VICII    D000    XPOS     8832    YPOS     8833
